#include<AT89X51.H>

       void delay_ms( int ms){
       int x,y;
       for(x=0;x<ms;x++){
       for(y=0;y<125;y++){
       }
     } 
   }
void main(){
	P2=0x00;
P3 = 0xFF;
 while(1){
         if(P3_0==0){
		 delay_ms(20);
		 if(P3_0==0){
		 P2_0 = ~P2_0;
		 while(P3_0==0);
		 }
		   }
		 if(P3_1==0){
		 delay_ms(20);
		 if(P3_1==0){
		 P2_1 = ~P2_1;
		 while(P3_1==0);
		 }
		   }
		 if(P3_2==0){
		 delay_ms(20);
		 if(P3_2==0){
		 P2_2 = ~P2_2;
		 while(P3_2==0);
		 }
		   }
		 if(P3_3==0){
		 delay_ms(20);
		 if(P3_3==0){
		 P2_3 = ~P2_3;
		 while(P3_3==0);
		 }
		   }
		 if(P3_4==0){
		 delay_ms(20);
		 if(P3_4==0){
		 P2_4 = ~P2_4;
		 while(P3_4==0);
		 }
		   }
		 if(P3_5==0){
		 delay_ms(20);
		 if(P3_5==0){
		 P2_5 = ~P2_5;
		 while(P3_5==0);
		 }
		   }
		 if(P3_6==0){
		 delay_ms(20);
		 if(P3_6==0){
		 P2_6 = ~P2_6;
		 while(P3_6==0);
		 }
		   }
		 if(P3_7==0){
		 delay_ms(20);
		 if(P3_7==0){
		 P2_7 = ~P2_7;
		 while(P3_7==0);
		 }
		   }
		     }
			   }
